<!doctype html>
<style>
canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
</style>
<canvas></canvas>
<script type=module>
import * as display from '/client/display.js';

let position = null;

function draw() {
  display.clear();
  display.drawHud(context => {
    context.fillStyle = '#eee';
    context.fillRect(10, 10, display.width - 20, display.height - 20);
    context.fillStyle = '#f00';
    context.fillRect(
        0.5 * display.width - 10, 0.5 * display.height - 10, 20, 20);
    context.font = '20pt sans-serif';
    context.textAlign = 'center';
    context.textBaseline = 'bottom';
    if (position) {
      context.fillText(Math.round(position.x) + ',' + Math.round(position.y),
                       0.5 * display.width, 0.5 * display.height - 20);
    }
  });
  requestAnimationFrame(draw);
}
requestAnimationFrame(draw);

display.onMouseMove(event => {
  position = event.position;
});
</script>
